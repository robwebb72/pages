<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Land of Lisp - Ch 4 - My Docs</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Land of Lisp - Ch 4", url: "#_top", children: [
              {title: "TL;DR", url: "#tldr" },
              {title: "Chapter 4 (conditions)", url: "#chapter-4-conditions" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../land-of-lisp-ch05/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../land-of-lisp-ch05/" class="btn btn-xs btn-link">
        Land of Lisp - Ch 5
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../land-of-lisp-ch03/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../land-of-lisp-ch03/" class="btn btn-xs btn-link">
        Land of Lisp - Ch 3
      </a>
    </div>
    
  </div>

    

    <h1 id="land-of-lisp-ch-4">Land of Lisp - Ch 4</h1>
<h2 id="tldr">TL;DR</h2>
<ul>
<li>Empty equals false - all of these are empty -&gt; <code>()</code> <code>'()</code> <code>nil</code> <code>'nil</code></li>
<li>if - only one branch (then branch or else branch) evaluated depending on condition</li>
<li>when and unless - implicit progn</li>
<li>cond - classic branching in Lisp</li>
</ul>
<p><code>lisp
  (cond
      ((cond1) 'do-1a)
      ((cond2) 'do-2a 'do-2b)
      (t 'do-a 'do-b))</code></p>
<ul>
<li>case - branching by matching with eq (so cannot branch on strings)</li>
</ul>
<p><code>lisp
  (case var1
      ((val1) 'do-1a 'do-1b)
      ((val2) 'do-2a)
      (otherwise 'do-a 'do-b))</code></p>
<ul>
<li>
<p>conditionals - <code>and</code> and <code>or</code> - shortcut Boolean evaluation</p>
</li>
<li>
<p>comparisons</p>
</li>
<li><strong>rule of thumb</strong> - use <code>eq</code> when comparing symbols and <code>equal</code> when comparing everything else.</li>
<li><code>eq</code>  - compares symbols only  (also seems to compare ints and chars [case sensitive])</li>
<li><code>equal</code> - general comparison (symbols, chars, numbers, strings [case insensitive], lists, etc)</li>
<li><code>eql</code> - compares symbols, chars and numbers (but only of same type) - chars are case insensitive</li>
<li><code>equalp</code> - like <code>equal</code> but can compare between different number types (e.g. float and int)</li>
<li><code>=</code> - comparsion between number types</li>
<li><code>string-equal</code> (case insensitive)</li>
<li><code>char-equal</code> (case insensitive)</li>
</ul>
<hr />
<h2 id="chapter-4-conditions">Chapter 4 (conditions)</h2>
<h3 id="empty-equals-false">Empty Equals False</h3>
<p>The following are all false (scheme handles this differently)</p>
<ul>
<li>()</li>
<li>'()</li>
<li>nil</li>
<li>'nil</li>
</ul>
<pre><code class="language-lisp">(defun my-len (list)
    (if list
        (1+ (my-len (cdr list)))
        0))
</code></pre>
<h3 id="if">if</h3>
<p>only one branch executed, lisp will not evaluate the branch not taken</p>
<pre><code class="language-lisp">(if '(1)
    'this-is-true
    (/ 1 0))
</code></pre>
<p>Notes:</p>
<ul>
<li>can only execute 1 item in each branch</li>
<li><code>(/ 1 0)</code> will never be evaluated so lisp won't throw it out</li>
</ul>
<h3 id="when-and-unless">when and unless</h3>
<p>Executes multiple statements</p>
<pre><code class="language-lisp">(when (condition-is-true)
    'this-is-executed
    'and-so-is-this )
</code></pre>
<pre><code class="language-lisp">(unless (condition-is-false)
    'this-is-executed
    'and-so-is-this )
</code></pre>
<h3 id="cond">cond</h3>
<p>Classic way to do branching in Lisp. Considered by some to be the one true Lisp conditional (as it's been around since the Lisp Stone Age)</p>
<pre><code class="language-lisp">(defvar *arch-enemy* nil)
(defun pudding-eater (person)
    (cond ((eq person 'henry)   (setf *arch-enemy* 'stupid-lisp-alien)
                                '(curse you lisp alien - you ate my pudding))
            ((eq person 'johnny)   (setf *arch-enemy* 'useless-old-johnny)
                                '(i hope you choked on my pudding johnny))
            (t      '(why you eatin' ma pudding stranger?))))
</code></pre>
<h3 id="case">case</h3>
<pre><code class="language-lisp">(defun pudding-eater (person)
    (case person
        ((henry)   (setf *arch-enemy* 'stupid-lisp-alien)
                    '(curse you lisp alien - you ate my pudding))
        ((johnny)   (setf *arch-enemy* 'useless-old-johnny)
                    '(i hope you choked on my pudding johnny))
        (otherwise  '(why you eatin' ma pudding stranger?))))
</code></pre>
<p>Note: <strong>case</strong> uses <em>eq</em> for comparison, so cannot be used to branch on string values.</p>
<h3 id="conditionals-and-and-or">conditionals "and" and "or"</h3>
<pre><code class="language-lisp">&gt; (and (oddp 5)(oddp 7)(oddp 9))
&gt; (or (oddp 6)(oodp 4)(oddp 1))
</code></pre>
<p>Lisp will shortcut these statements (i.e. stop processing an or when it hits a true condition, stop processing an and condition when it hits a false).  Handy for a trick like this...</p>
<pre><code class="language-lisp">(and *file-modified* (ask-user-about-saving) (save-file))
</code></pre>
<h3 id="comparisons">comparisons</h3>
<ul>
<li><strong>eq</strong> - compares symbols only. (also seems to compare ints and chars as well)</li>
<li><strong>eql</strong> - compares symbols, chars and numbers (but only of same type, e.g. int -&gt; int, float -&gt; float), chars are case insensitive</li>
<li><strong>equal</strong> - general comparison (symbols, chars, numbers, strings [case sensitive], lists, etc)</li>
<li><strong>equalp</strong> - like <strong>equal</strong> but can compare between number types (e.g. int -&gt; float), strings are case insensitive</li>
<li><strong>=</strong> - comparison between number types</li>
<li><strong>string-equal</strong> - comparison between strings (case insensitive)</li>
<li><strong>char-equal</strong> - comparison between chars (case insensitve)</li>
</ul>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../land-of-lisp-ch05/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../land-of-lisp-ch05/" class="btn btn-xs btn-link">
        Land of Lisp - Ch 5
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../land-of-lisp-ch03/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../land-of-lisp-ch03/" class="btn btn-xs btn-link">
        Land of Lisp - Ch 3
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>